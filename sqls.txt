DROP DATABASE IF EXISTS BRYNHILDR;
CREATE DATABASE BRYNHILDR;
USE BRYNHILDR; 
DROP TABLE IF EXISTS PAYMENTS;
DROP TABLE IF EXISTS CLIENTS_TRANS;
DROP TABLE IF EXISTS CLIENTS;
CREATE TABLE CLIENTS(
        C_ID INTEGER AUTO_INCREMENT,
        PW CHAR(255),
        FIRST_NAME VARCHAR(100),
        LAST_NAME VARCHAR(100),
        P_NUM CHAR(11),
        CP_NUM CHAR(11),
        EMAIL VARCHAR(100),
        ZIPCODE CHAR(5),
        STATE VARCHAR(20),
        CITY VARCHAR(30),
        STREET VARCHAR(50),
        PRIMARY KEY (C_ID),
        UNIQUE (P_NUM),
        UNIQUE (CP_NUM),
        UNIQUE (EMAIL)
        );
CREATE TABLE CLIENTS_TRANS(
        T_ID INTEGER AUTO_INCREMENT,
        C_ID INTEGER NOT NULL,
        VALUE INTEGER NOT NULL,
        T_DATE DATE NOT NULL,
        COMMISSION INTEGER DEFAULT 0,
        BALANCE_OIL INTEGER NOT NULL,
        BALANCE INTEGER NOT NULL,
        PRIMARY KEY (T_ID),
        FOREIGN KEY (C_ID) REFERENCES CLIENTS(C_ID)
        );
CREATE TABLE PAYMENTS(
        T_ID INTEGER NOT NULL,
        AMOUNT_PAID INTEGER NOT NULL,
        TRADER_INFO VARCHAR(255),
        PRIMARY KEY (T_ID),
        FOREIGN KEY (T_ID) REFERENCES CLIENTS_TRANS(T_ID)
        ON DELETE CASCADE
        );
